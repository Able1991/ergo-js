<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DinoJS: Таблицы</title>

		<!-- jQuery -->
		<script type="text/javascript" src="../lib/misc/jquery-1.4.2.min.js"></script>
		<!-- DinoJS -->
		<script type="text/javascript" src="../build/dino-js.js"></script>
		<link rel="stylesheet" type="text/css" href="../build/dino-js.css">
		<!-- DinoJS theme -->
		<link rel="stylesheet" type="text/css" href="../themes/default/dino-theme.css">
		<!-- jQuery UI theme -->
		<!--link rel="stylesheet" type="text/css" href="../themes/smoothness/jquery-ui-theme.css"-->
		<!-- SHJS -->
		<script type="text/javascript" src="../lib/shjs/sh_main.min.js"></script>
		<script type="text/javascript" src="../lib/shjs/lang/sh_javascript.min.js"></script>
		<script type="text/javascript" src="../lib/shjs/lang/sh_css.min.js"></script>
		<script type="text/javascript" src="../lib/shjs/lang/sh_html.min.js"></script>
		<link rel="stylesheet" type="text/css" href="../lib/shjs/css/sh_emacs.min.css">

		<link rel="stylesheet" type="text/css" href="css/template2.css">
		<script type="text/javascript" src="js/template2.js"></script>


		<style>
			
			
		</style>

</head>
<body>
	
	
	
	
<div id="sample-grid">
<style>
/*	
#table-1 {
	width: 100%;
}

#table-1 tbody tr:hover {
	background-color: #ffc;
}
*/

.grid-cell {
	border-right: 1px solid #ccc;
	border-bottom: 1px solid #ccc;
	text-align: center;
}
	
.grid-header-cell {
	border-right: 1px solid #ccc;
	border-bottom: 1px solid #ccc;
	color: #444;
}
	
	
</style>
<script>
	
sample('sample-grid', function(){


/*
var gridData = [
  {id: '1', name: 'Alice', value: '123', cb: false},
  {id: '2', name: 'Bob', value: '456', cb: true},
  {id: '3', name: 'Charlie', value: '789', cb: false},
];
*/

gridData = new Dino.data.ArrayDataSource();


		
		
var grid = $.dino({
  id: 'table-1',
  dtype: 'grid',
  cls: 'dino-border-all dino-corner-all',
	content: {
//		autoHeight: true,
		height: 'auto',
		style: {'padding-right': '3px'}
	},
	headerCls: 'dino-bg-highlight',
	headerModel: {
		cell: {
			cls: 'grid-header-cell',
		},
		columns: [{
			innerText: '№'
//      width: 50
		}, {
			innerText: 'Имя'
		}, {
			innerText: 'Значение'
//      width: 100
		}, {
//			text: 'Выбран',
			content: {
      	dtype: 'checkbox',
				checked: false				
			}
//      width: 50
		}]
	},
  tableModel: {
		cell: {
			cls: 'grid-cell',
			binding: 'auto'
		},
    columns: [{
      dataId: 'id',
      width: 50
    }, {
      dataId: 'name'
    }, {
      dataId: 'value',
      width: 100
    }, {
      dataId: 'cb',
      width: 50,
			content: {
      	dtype: 'checkbox'				
			},
			binding: 'skip'
    }]
  },
  data: gridData,
	components: {
		pager: {
			dtype: 'pager',
			count: 100,
			pageSize: 10,
			cls: 'dino-border-top',
			onCurrentChanged: function(e) {
//				var i = this.currentPage;
//				var i0 = i*10;
//				var i1 = (i+1)*10;
				var data_page = Samples.generate_grid_page(e.from, e.to);
				var j = 0;
				for(var i = e.from; i < e.to; i++) {
					gridData.source[i] = data_page[j++];
				}
				gridData.range = [e.from, e.to];
				gridData.events.fire('onValueChanged');
			}
		}
	}
});
		
grid.pager.setCurrentIndex(0);
		
return grid;		
});	
	
	
</script>	
<div class="html">
	
</div>
<div class="desc">
	
</div>
</div>
	
	
	
	
<div id="sample-tree-grid">
<style>

.tree-grid {
/*	border-top: 1px solid #ccc;
	border-left: 1px solid #ccc;*/
}
/*
.tg-item-content {
	display: inline;
	margin-left: 20px;	
}

.tg-item-button {
	top: 2px;
	left: 0px;
}
*/
.tg-cell {
	border-right: 1px solid #ccc;
	border-bottom: 1px dotted #ccc;
	text-align: center;
}

.tg-row {
	cursor: default;
}

.tree-grid .indent {
/*	text-align: left;*/	
	padding-left: 20px;
}
/*
.tg-row.even {
	background-color: #f6f6f6;
}
*/
/*
.tg-row:hover {
	background-color: #ffc;
}
*/
.tg-header {
	border-right: 1px solid #ccc;
	border-bottom: 1px dotted #ccc;
	color: #444;
}

.indent {
}

</style>
<script>
	
sample('sample-tree-grid', function(){
	
	
var tgTreeData = new Dino.data.ArrayDataSource([]);


$.getJSON('ajax/file_system.json', {}, function(data) { tgTreeData.set(data) });

		
return $.dino({
  dtype: 'tree-grid',
  tag: 'aaa',
  cls: 'tree-grid dino-border-all dino-corner-all',
  data: tgTreeData,
//  dataId: 'children',
	width: 600,
//	debug: true,
	content: {
//		autoHeight: true,
		height: 'auto',
		style: {'padding-right': '3px'}
	},
	headerCls: 'dino-bg-highlight',
	headerModel: {
		cell: {
			cls: 'tg-header'
		},
		columns: [{
			innerText: '#',
			width: 40
		}, {
			innerText: 'Файл'
		}, {
			innerText: 'Размер',
			width: 100
		}]
	},
  tableModel: {
    cell: {
      cls: 'tg-cell'
    },
    row: {
			cls: 'tg-row',
      state: 'expanded'
    },
    columns: [{
      dataId: 'id',
      width: 40,
      binding: 'auto'
    }, {
			dtype: 'tree-table-cell',
			style: {'text-align': 'left'},
			expandOnShow: true,
			content: {
				content: {
					showLeftIcon: true,
					components: {
						leftIcon: {
							dataId: 'type',
							format: function(val) { return 'led-icon-'+val; },
							binding: function(val) {	this.states.setOnly(val); }
						},
						content: {
		      		dataId: 'name'
						}
					},
					selectable: false
				}				
			},
			binding: function(val, o) {
				o.isLeaf = (val.type == 'film');
			}
    }, {
      width: 100,
      dataId: 'value',
      binding: 'auto'
    }]
  }
});//.content.content.body.layout.rebuild();	
	
	
});
	

</script>	
<div class="html">
	
</div>
<div class="desc">
	
</div>
</div>	
	






<div id="sample-group">
<style>

.group-title {
	padding-top: 5px;
	padding-left: 3px;
	border-bottom: 3px solid #bbb;
	color: #888;
}

.group-row:hover {
	background-color: #ffc;
}	
	
</style>
<script>
	
sample('sample-group', function(){

var gridData = [{
	name: 'Группа 1',
	items: [
	  {id: '1', name: 'Alice', value: '123', cb: false},
	  {id: '2', name: 'Bob', value: '456', cb: true},
	]
}, {
	name: 'Группа 2',
	items: [
  	{id: '3', name: 'Charlie', value: '789', cb: false},
	]
}, {
	name: 'Группа 3',
	items: [
  	{id: '4', name: 'Dean', value: '31545', cb: false},
  	{id: '5', name: 'Eva', value: '987', cb: false},
	]
}];
		
		
return $.dino({
	dtype: 'box',
	width: 500,
	cls: 'dino-border-all dino-corner-all',
	components: {
		header: {
			dtype: 'table',
			cls: 'dino-bg-highlight',
			width: '100%',
			headerModel: {
				cell: {
					cls: 'grid-header-cell'
				},
				columns: [{width: 60, innerText: '#'}, {innerText: 'Имя'}, {width: 100, innerText: 'Значение'}]
			}
		},
		scrollableContent: {
			dtype: 'box',
			data: gridData,
			dynamic: true,
			height: 'auto',
			defaultItem: {
				components: {
					title: {
						dtype: 'box',
						cls: 'group-title',
						content: {
							dtype: 'text',
							dataId: 'name'
						}
					},
					table: {
						dtype: 'table',
						dataId: 'items',
						width: '100%',
//						style: {'border-left': '1px solid #ccc'},
						tableModel: {
							row: {
								cls: 'group-row'
							},
							cell: {
								binding: 'auto',
								style: {'border-bottom': '1px solid #ccc'},
							},
							columns: [{
								dataId: 'id',
								cls: 'dino-default-column',
								width: 60
							}, {
								dataId: 'name',
								cls: 'dino-text-column',
							}, {
								dataId: 'value',
								cls: 'dino-numeric-column',
								width: 100
							}]
						}
					}
				}
			}
			
		}
	}
});
		
});	
	
	
</script>	
<div class="html">
	
</div>
<div class="desc">
	
</div>
</div>



	
	


</body>
</html>