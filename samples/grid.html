<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DinoJS: Таблицы</title>

		<!-- jQuery -->
		<script type="text/javascript" src="../lib/misc/jquery-1.4.2.min.js"></script>
		<!-- DinoJS -->
		<script type="text/javascript" src="../build/dino-js.js"></script>
		<link rel="stylesheet" type="text/css" href="../build/dino-js.css">
		<!-- DinoJS theme -->
		<link rel="stylesheet" type="text/css" href="../themes/default/dino-theme.css">
		<!-- jQuery UI theme -->
		<link rel="stylesheet" type="text/css" href="../themes/smoothness/jquery-ui-theme.css">
		<!-- SHJS -->
		<script type="text/javascript" src="../lib/shjs/sh_main.min.js"></script>
		<script type="text/javascript" src="../lib/shjs/lang/sh_javascript.min.js"></script>
		<script type="text/javascript" src="../lib/shjs/lang/sh_css.min.js"></script>
		<script type="text/javascript" src="../lib/shjs/lang/sh_html.min.js"></script>
		<link rel="stylesheet" type="text/css" href="../lib/shjs/css/sh_emacs.min.css">

		<link rel="stylesheet" type="text/css" href="css/template2.css">
		<script type="text/javascript" src="js/template2.js"></script>


		<style>
			
			
		</style>

</head>
<body>
	
	
	
	
<div id="sample-grid">
<style>
#table-1 {
	width: 100%;
}

#table-1 tbody tr:hover {
	background-color: #f0fff0;
}	
</style>
<script>
var gridData = [
  {id: '1', name: 'Alice', value: '123', cb: false},
  {id: '2', name: 'Bob', value: '456', cb: true},
  {id: '3', name: 'Charlie', value: '789', cb: false},
];
		
		
$.dino({
  id: 'table-1',
  dtype: 'grid',
  cls: 'ui-widget-content ui-corner-all',
  dataModel: {
    columns: [{
      title: 'ID',
      name: 'id',
      width: 50
    }, {
      title: 'Имя',
      name: 'name'
    }, {
      title: 'Значение',
      name: 'value',
      width: 100
    }, {
      title: 'Выбран',
      name: 'cb',
      width: 50,
      dtype: 'checkbox'
    }]
  },
  data: gridData
});	
</script>	
<div class="html">
	
</div>
<div class="desc">
	
</div>
</div>
	
	
	
	
<div id="sample-tree-grid">
<style>
#table-2 {
	width: 100%;
}

#tree-2 {
	position: absolute;
	top: 2px;
}


.tree-grid {
/*	border-top: 1px solid #ccc;*/
	border-left: 1px solid #ccc;
}


.tg-cell {
	border-right: 1px solid #ccc;
	border-bottom: 1px dotted #ccc;
}

.tg-tree-node {
	border-bottom: 1px solid #fff;
}

.tg-tree-node > ul{
	padding-left: 30px;
}


.tree-grid-item {
/*	padding-left: 20px;*/
/*	border-bottom: 1px solid #ccc;*/
}

.tree-grid-item td {
/*	padding-left: 20px;*/
	border-top: 1px dotted #ccc;
}


</style>
<script>
/*	
var tgData = [
  {id: '1', name: 'Alice', value: '123', cb: false},
  {id: '2', name: 'Bob', value: '456', cb: true},
  {id: '3', name: 'Charlie', value: '789', cb: false},
  {id: '4', name: 'Daniel', value: '456', cb: true},
  {id: '5', name: 'Eva', value: '456', cb: true}
];
*/
var tgTreeData = { id: null, children: [{
	id: 0,
	name: 'aaa',
	value: '123',
	children: [{
		id: 1,
		value: '456',
		name: 'bbb'
	}, {
		id: 2,
		value: '789',
		name: 'ccc'
	}]
}, {
	id: 3,
	value: '123514',
	name: 'ddd',
	children: [{
		id: 4,
		value: '56563',
		name: 'eee'
	}]
}]
};

var tgArrayData = [{
	label: 'AAA'
//	tree: tgTreeData
}, {
	label: 'BBB'
}, {
	label: 'CCC'
}, {
	label: 'DDD'
}, {
	label: 'EEE'
}];


var tgDataSource = new Dino.data.DataSource(tgTreeData, 'children');


//var fa_view = new Dino.data.FlattenArrayView( tgDataSource, 'children' );
//console.log( fa_view.item(1) );
//fa_view.each(function(item, n){ 
//	console.log(n); 
//});

		
$.dino({
	dtype: 'tree-grid',
	tag: 'aaa',
	cls: 'tree-grid',
	data: tgDataSource,//new Dino.data.FlattenArrayView(tgDataSource, 'children'),//tgArrayData,
	tableModel: {
		cell: {
			cls: 'tg-cell'
		},
		columns: [{
			dataId: 'id',
			binding: 'auto'
		}, {
			dataId: 'name',
			binding: 'auto',
			clickable: true,
			onClick: function() {
				message.info(this.data.get());
			}
/*			
			data: tgDataSource,
			content: {
				dtype: 'tree-grid-item',
				defaultSubItem: {
					content: {
						weight: 0,
						dtype: 'text',
						dataId: 'name',
						clickable: true,
						onClick: function() {
							this.getParent('aaa');
//							message.info(this.data.source.val());
						}
					}
				}
			},
			rowspan: 'all'
*/				
		}, {
			dataId: 'value',
			binding: 'auto'
		}]
	},
	
	
});	
</script>	
<div class="html">
	
</div>
<div class="desc">
	
</div>
</div>	
	
	
	


	<script>		
		
samplePage([{
	name: 'Grid',
	id: '#sample-grid'
}, {
	name: 'TreeGrid',
	id: '#sample-tree-grid'
}]);
	
	</script>


</body>
</html>