<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Все кнопки</title>
	
		<!-- jQuery -->
		<script type="text/javascript" src="../../lib/misc/jquery-1.4.2.min.js"></script>
		<!-- DinoJS -->
		<script type="text/javascript" src="../../build/dino-js.js"></script>
		<link rel="stylesheet" type="text/css" href="../../build/dino-js.css">
		<!-- DinoJS theme -->
		<link rel="stylesheet" type="text/css" href="../../themes/default/dino-theme.css">
		<!-- jQuery UI theme -->
		<!--link rel="stylesheet" type="text/css" href="../themes/smoothness/jquery-ui-theme.css"-->	

		<link rel="stylesheet" type="text/css" href="../css/commons.css">
		<script type="text/javascript" src="../js/commons.js"></script>
	
</head>
<body>
	
	
<style>

.tg-cell {
	border-right: 1px solid #ccc;
	border-bottom: 1px dotted #ccc;
	text-align: center;
}

.tg-row {
	cursor: default;
}

.tree-grid .indent {
/*	text-align: left;*/	
	padding-left: 20px;
}

.tg-header {
	border-right: 1px solid #ccc;
	border-bottom: 1px dotted #ccc;
	color: #444;
}

					
</style>
	
<script>
		
var tgTreeData = new Dino.data.ArrayDataSource([]);


$.getJSON('../ajax/file_system.json', {}, function(data) { tgTreeData.set(data) });

		
$.dino({
  dtype: 'tree-grid',
	renderTo: 'body',
  tag: 'aaa',
  cls: 'tree-grid dino-border-all dino-corner-all',
  data: tgTreeData,
//  dataId: 'children',
	width: 600,
//	debug: true,
	content: {
//		autoHeight: true,
		height: 300,//'auto',
		style: {'padding-right': '3px'}
	},
	headerCls: 'dino-bg-highlight',
	headerModel: {
		cell: {
			cls: 'tg-header'
		},
		columns: [{
			innerText: '#',
			width: 40
		}, {
			innerText: 'Файл'
		}, {
			innerText: 'Размер',
			width: 100
		}]
	},
  tableModel: {
    cell: {
      cls: 'tg-cell'
    },
    row: {
			cls: 'tg-row',
      state: 'expanded'
    },
    columns: [{
      dataId: 'id',
      width: 40,
      binding: 'auto'
    }, {
			dtype: 'tree-table-cell',
			style: {'text-align': 'left'},
			expandOnShow: true,
			content: {
				content: {
					showLeftIcon: true,
					components: {
						leftIcon: {
							dataId: 'type',
							format: function(val) { return 'led-icon-'+val; },
							binding: function(val) {	this.states.setOnly(val); }
						},
						content: {
		      		dataId: 'name'
						}
					},
					state: 'nonselectable'
				}				
			},
			binding: function(val, o) {
				o.isLeaf = (val.type == 'film');
			}
    }, {
      width: 100,
      dataId: 'value',
      binding: 'auto'
    }]
  }
});	


		
</script>
	
	
	
</body>
</html>
