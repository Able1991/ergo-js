<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Все кнопки</title>
	
		<!-- jQuery -->
		<script type="text/javascript" src="../../lib/misc/jquery-1.4.2.min.js"></script>
		<!-- DinoJS -->
		<script type="text/javascript" src="../../build/dino-js.js"></script>
		<link rel="stylesheet" type="text/css" href="../../build/dino-js.css">
		<!-- DinoJS theme -->
		<link rel="stylesheet" type="text/css" href="../../themes/default/dino-theme.css">
		<!-- jQuery UI theme -->
		<!--link rel="stylesheet" type="text/css" href="../themes/smoothness/jquery-ui-theme.css"-->	
		<!-- Iconsets -->
		<link rel="stylesheet" type="text/css" href="../../iconsets/jquery-ui/jquery-ui-iconset.css">
		<link rel="stylesheet" type="text/css" href="../../iconsets/led/led-iconset.css">

		<link rel="stylesheet" type="text/css" href="../css/commons.css">
		<script type="text/javascript" src="../js/commons.js"></script>
	
</head>
<body>
	
	
<style>

body {
	background-color: #eee;
}


.panel {
	background-color: #fff;
	padding: 3px;
}




</style>
	
<script>


var splitMove = null;


//var minWidth = 50;
/*
var split_mousemove_handler = function(e){
	if(splitMove) {
		if(splitMove.el.hasClass('west-splitter')) {
			var offset = $('.west-region').offset();
			var left = e.pageX - offset.left - 4;
			if(left < 50) left = 50;
			$('.west-region').css('width', left);
			$('.center-region').css('left', left+8);
			$('.west-splitter').css('left', left+2);
		}
		else if(splitMove.el.hasClass('east-splitter')) {
			var right = $('body').width() - e.pageX;
			$('.east-region').css('width', right);
			$('.center-region').css('right', right+8);
			$('.east-splitter').css('right', right+2);
		}
				
	}
};

var split_mouseup_handler = function(e){
	if(splitMove) {
		$('.split-pane').remove();
//		$('body').removeClass('resizable-hor');
		splitMove = null;		
	}
};
*/

var treeData = new Dino.data.ArrayDataSource([]);

$.getJSON('../ajax/file_system.json', {}, function(data) { treeData.set(data) });



var box = $.dino({
  dtype: 'box',
	renderTo: 'body',
  layout: 'border-layout',
		style: {'margin': '8px'},
  height: 400,
	items: [{
		dtype: 'box',
		width: 100,
		cls: 'dino-border-all dino-widget-shadow panel',
//		style: {'margin': '10px'},
		region: 'west',
		height: 'auto',
		content: {
			dtype: 'tree',
//			isDynamic: true,
			height: 'auto',
			data: treeData,
			treeModel: {
				node: {
					binding: function(val) {
						this.opt('icon', 'led-icon-'+val.type);
						if(val.type != 'folder') this.opt('isLeaf', true);
					},
					content: {
						showLeftIcon: true,
						dataId: 'name'
					}
				}
			}
		}
	}/*, {
		dtype: 'box',
		cls: 'dino-border-all',//'west-splitter',
		height: 'ignore',
		events: {
			'mousedown': function(e, w) {
				splitMove = w;
//				$('body').addClass('resizable-hor');
				$('.split-pane').remove();
				var splitPane = $('<div class="split-pane resizable-hor"></div>').bind('mousemove', split_mousemove_handler).bind('mouseup', split_mouseup_handler);
				$('body').append(splitPane);

				return false;
			}
		}
	}*/, {
		dtype: 'box',
		cls: 'dino-border-all dino-widget-shadow panel',
		height: 'auto'
	}/*, {
		dtype: 'box',
		cls: 'east-splitter',
		height: 'ignore',
		events: {
			'mousedown': function(e, w) {
				splitMove = w;
				$('.split-pane').remove();
				var splitPane = $('<div class="split-pane resizable-hor"></div>').bind('mousemove', split_mousemove_handler).bind('mouseup', split_mouseup_handler);
				$('body').append(splitPane);
				
//				$('body').addClass('resizable-hor');
				return false;
			}
		}		
	}*/, {
		dtype: 'box',
		region: 'east',
		width: 150,
		height: 'auto',
		cls: 'dino-border-all dino-widget-shadow panel'
	}, {
		dtype: 'box',
		region: 'north',
		height: 100,
		cls: 'dino-border-all dino-widget-shadow panel'		
	}, {
		dtype: 'box',
		region: 'south',
		height: 30,
		cls: 'dino-border-all dino-widget-shadow panel'		
	}]
});


		
</script>
	
	
	
</body>
</html>
