<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DinoJS: List</title>

		<!-- jQuery -->
		<script type="text/javascript" src="../lib/misc/jquery-1.4.2.min.js"></script>
		<!-- DinoJS -->
		<script type="text/javascript" src="../build/dino-js.js"></script>
		<link rel="stylesheet" type="text/css" href="../build/dino-js.css">
		<!-- DinoJS theme -->
		<link rel="stylesheet" type="text/css" href="../themes/default/dino-theme.css">
		<!-- SHJS -->
		<script type="text/javascript" src="../lib/shjs/sh_main.min.js"></script>
		<script type="text/javascript" src="../lib/shjs/lang/sh_javascript.min.js"></script>
		<script type="text/javascript" src="../lib/shjs/lang/sh_css.min.js"></script>
		<script type="text/javascript" src="../lib/shjs/lang/sh_html.min.js"></script>
		<link rel="stylesheet" type="text/css" href="../lib/shjs/css/sh_emacs.min.css">

		<link rel="stylesheet" type="text/css" href="css/template2.css">
		<script type="text/javascript" src="js/template2.js"></script>


</head>
<body>




<div id="sample-list">
<style>	
	
</style>
<script>
	
sample('sample-list', function(){

var list = $.dino({
	dtype: 'list',
	width: 400,
	contentHeight: 220,
	defaultListItem: {
		showLeftIcon: true,
		leftIconCls: 'led-icon-user'
	},
	listItems: [{
		text: 'Alice',
	}, {
		text: 'Bob'
	}, {
		text: 'Charlie'
	}, {
		text: 'Denver'
	}, {
		text: 'Eva'
	}, {
		text: 'Fox'
	}, {
		text: 'George'
	}],
	editOnDblClick: true
});	

	return list;
});

</script>	
<div class="html">
	
</div>
<div class="desc">
	<p>Простой контейнер с простой компоновкой. Имеет одну колонку и легкую html-разметку.</p>
	<p>Элементом списка является <strong>Dino.widgets.TextItem</strong>.</p>
</div>
</div>






<div id="sample-list-box">
<style>	
	
</style>
<script>

sample('sample-list-box', function(panel) {
	
var listBoxData = new Dino.data.ArrayDataSource(['Alice', 'Bob', 'Charlie']);


var listBox = $.dino({
	dtype: 'panel',
	title: 'Список',
	width: 400,
	components: {
		content: {
			dtype: 'list-box',
//			cls: 'dino-border-all',
			listModel: {
				columns: [{
					cls: 'dino-icon-column',
					binding: false,
					content: {
						dtype: 'checkbox'
					}
				}, {
					binding: 'auto',
					editable: true
				}, {
					cls: 'dino-icon-column',
					content: {
						dtype: 'icon',
						cls: 'ui-icon-gray ui-icon-arrowthick-1-n dino-clickable'
					}
				}, {
					cls: 'dino-icon-column',				
					content: {
						dtype: 'icon',
						cls: 'ui-icon-gray ui-icon-arrowthick-1-s dino-clickable'
					}
				}]				
			},
			height: 'auto',
			data: listBoxData,
//			editOnDblClick: true,
		},
		footer: {
			cls: 'dino-widget-footer dino-border-top',
			defaultItem: {
				dtype: 'icon-button',
				cls: 'dino-corner-all dino-bg-4 dino-border-none dino-clickable',
				clickable: true,
				onClick: function() {
					
					var selectedItem = listBox.content.getSelectedItem();
					
					if(this.tag == 'add') {
						if(selectedItem) {
							var data = listBoxData.add('Новая строка', selectedItem.index+1);
							listBox.content.getListItem({'data': data}).getColumn(0).startEdit();
						}
						else {
							var data = listBoxData.add('Новая строка');
							listBox.content.getListItem({'data': data}).getColumn(0).startEdit();							
						}						
					}
					else if(this.tag == 'delete') {
						if(selectedItem) selectedItem.data.del();
						listBox.content.setSelectedItem(null);
					}
					else if(this.tag == 'refresh') {
						listBoxData.set(['Alice', 'Bob', 'Charlie']);
					}
				}
			},
			items: [{
				icon: 'led-icon-add',
				tag: 'add'
			}, {
				icon: 'led-icon-delete',
				tag: 'delete'
			}, {
				icon: 'led-icon-refresh',
				tag: 'refresh'
			}]
		}
	}
});


/*
var listBox = $.dino({
	dtype: 'box',
	components: {
		controls: {
			dtype: 'box',
			cls: 'dino-controls',
			defaultItem: {
				dtype: 'text-button',
				onAction: function() {

					var selectedItem = listBox.list.getSelectedItem();

					if(this.tag == 'add') {
						if(selectedItem) {
							var data = listBoxData.add('Новая строка', selectedItem.index+1);
							listBox.list.getListItem({'data': data}).getColumn(0).startEdit();
						}
						else {
							var data = listBoxData.add('Новая строка');
							listBox.list.getListItem({'data': data}).getColumn(0).startEdit();							
						}
					}
					else if(this.tag == 'delete') {
						if(selectedItem) selectedItem.data.del();
					}
				}
			},
			items: [{
				text: 'Добавить',
				tag: 'add',
				icon: 'led-icon-add'
			}, {
				text: 'Удалить',
				tag: 'delete',
				icon: 'led-icon-delete'
			}]
		},
		list: {
			dtype: 'list-box',
			cls: 'dino-border-all',
			listModel: {
				columns: [{
					binding: 'auto'
				}, {
					cls: 'dino-icon-column',
					content: {
						dtype: 'icon',
						cls: 'ui-icon-gray ui-icon-arrowthick-1-n dino-clickable'
					}
				}, {
					cls: 'dino-icon-column',				
					content: {
						dtype: 'icon',
						cls: 'ui-icon-gray ui-icon-arrowthick-1-s dino-clickable'
					}
				}]				
			},
			width: 400,
			height: 'auto',
			data: listBoxData,
			editOnDblClick: true,
		}
	}
});	
*/	

	return listBox;
});


</script>	
<div class="desc">
	<p>Список на основе виджета <strong>Dino.widgets.Table</strong>. По большому счету это просто таблица.</p>
	<p>Элементом списка является <strong>Dino.widgets.TableRow</strong>.</p>
</div>
</div>













</body>
</html>