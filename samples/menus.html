<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DinoJS: Меню</title>

		<!-- jQuery -->
		<script type="text/javascript" src="../lib/misc/jquery-1.4.2.min.js"></script>
		<!-- DinoJS -->
		<script type="text/javascript" src="../build/dino-js.js"></script>
		<link rel="stylesheet" type="text/css" href="../build/css/dino-js.css">
		<!-- DinoJS theme -->
		<link rel="stylesheet" type="text/css" href="../themes/default/dino-theme.css">
		<!-- jQuery UI theme -->
		<link rel="stylesheet" type="text/css" href="../themes/smoothness/jquery-ui-theme.css">
		<!-- SHJS -->
		<script type="text/javascript" src="../lib/shjs/sh_main.min.js"></script>
		<script type="text/javascript" src="../lib/shjs/lang/sh_javascript.min.js"></script>
		<script type="text/javascript" src="../lib/shjs/lang/sh_css.min.js"></script>
		<script type="text/javascript" src="../lib/shjs/lang/sh_html.min.js"></script>
		<link rel="stylesheet" type="text/css" href="../lib/shjs/css/sh_emacs.min.css">

		<link rel="stylesheet" type="text/css" href="css/template2.css">
		<script type="text/javascript" src="js/template2.js"></script>


	<style>			
			
/*		
			.dino-growl-box {
				background-color: #f8f8f8;
				right: 20px;
				top: 20px;
				padding: 10px;
			}
*/		
		
	</style>


</head>
<body>





<div id="sample-menu">
<style>
	
#vmenu {
	width: 100px;
	position: relative;
}
	
.main-menu-item {
	border-bottom: 1px dotted #aaa;
	position: relative;
	cursor: pointer;
}	
	
.drop-menu-item {
	position: relative;
	cursor: pointer;
}	

.menu-item-text {
	padding: 0 5px;
}

.drop-menu-item:hover {
	background-color: #eee;
}
	
.menu-item-icon {
	background-position: 32px 32px;				
}
	
.drop-menu-item-has-submenu > .menu-item-text > .menu-item-icon {
	background-position: -32px -16px;
}


		
</style>
<script>
	
var menuModel = {
	baseCls: 'drop-menu-item',
	components: {
		content: {
			cls: 'menu-item-text',
			rightCls: 'ui-icon menu-item-icon'
		},
		submenu: {
			cls: 'dino-border-all'
		}
	}
};	
	
	
	
$.dino({
	dtype: 'box',
	id: 'vmenu',
	defaultItem: {
		dtype: 'text-menu-item',
		baseCls: 'drop-menu-item',
		cls: 'main-menu-item',
		components: {
			content: {
				cls: 'menu-item-text',
				rightCls: 'ui-icon menu-item-icon'
			},
			submenu: {
				cls: 'dino-border-all',
				width: 100
			}
		},
		defaultSubItem: menuModel
	},
	items: [{
		label: 'Menu 1',
		submenu: [{
			label: 'Submenu 1',
		}, {
			label: 'Submenu 2',
		}, {
			label: 'Submenu 3',
			submenuWidth: 200,
			submenu: [{
				label: 'Submenu 4',
				submenuWidth: 100,
				submenu: [{
					label: 'Submenu 6',
				}]
			}, {
				label: 'Submenu 5 + Submenu 5'					
			}]
		}]
	}, {
		label: 'Menu 2',		
	}, {
		label: 'Menu 3',		
	}]
});	
	
	
	
/*	
// Модель меню
var menuModel = {
  dropdown: {
    cls: 'dino-border',
    effects: {
      show: 'fade',
      hide: 'default',
      delay: 300
    }
  },
  item: {
    dtype: 'text-menu-item',
    cls: 'menu-item',
    items: [{
      dtype: 'icon',
      position: 'right',
      cls: 'ui-icon menu-item-icon'
    }, {
      cls: 'menu-item-label'
    }],
    onAction: function(){
      Samples.growl.addMessage('Выбран элемент меню: ' + this.options.label);
      this.hideSubmenu(true);
    }
  }		
};

// Виджет меню
Dino.widget({
  dtype: 'box',
  cls: 'menu',
  style: {'position': 'absolute'},
  defaultItem: Dino.override({submenuModel: menuModel}, menuModel.item),
  items: [{
    label: 'Menu 1',
    submenuItem: {width: 90},
    submenu: [
      {label: 'Submenu 1'},
      {label: 'Submenu 2'},
      {label: 'Submenu 3'},
      {
        label: 'Submenu 4',
        submenuItem: {width: 150},
        submenu: [
          {
            label: 'Submenu1',
            submenuItem: {width: 110},
            submenu: [
              {label: 'Submenu AAAA'}
            ]
          },
          {label: 'Submenu2 Submenu2'}
        ]
      }
    ]
  }, 
  { label: 'Menu 2' }, 
  { label: 'Menu 3' }
  ]
});
*/
</script>	
<div class="html">
	
</div>
<div class="desc">
	<p>Это черновой вариант меню</p>	
</div>
</div>







<div id="sample-menu2">
<style>
	


		
</style>
<script>
	
var menuModel = {
	baseCls: 'drop-menu-item',
	components: {
		content: {
			cls: 'menu-item-text',
			rightCls: 'ui-icon menu-item-icon'
		},
		submenu: {
			cls: 'dino-border-all'
		}
	}
};	
	
	
	
$.dino({
	dtype: 'box',
	id: 'hmenu',
	layout: 'bar-layout',
	defaultItem: {
		dtype: 'text-menu-item',
//		baseCls: 'drop-menu-item',
		cls: 'main-menu-item',
		components: {
			content: {
				cls: 'menu-item-text',
				rightCls: 'ui-icon menu-item-icon'
			},
			submenu: {
				cls: 'dino-border-all',
				anchor: 'bottom',
				width: 100
			}
		},
		defaultSubItem: menuModel
	},
	items: [{
		label: 'Menu 1',
		submenu: [{
			label: 'Submenu 1',
		}, {
			label: 'Submenu 2',
		}, {
			label: 'Submenu 3',
			submenuWidth: 200,
			submenu: [{
				label: 'Submenu 4',
				submenuWidth: 100,
				submenu: [{
					label: 'Submenu 6',
				}]
			}, {
				label: 'Submenu 5 + Submenu 5'					
			}]
		}]
	}, {
		label: 'Menu 2',		
	}, {
		label: 'Menu 3',		
	}]
});	
	
	
	

</script>	
<div class="html">
	
</div>
<div class="desc">
	<p>Это черновой вариант меню</p>	
</div>
</div>









<div id="sample-context">
<style>
	
.context-menu {
	background-color: white;
	cursor: default;
	z-index: 1000;
}

.context-menu-item {
	border-bottom: 1px dotted #aaaaaa;
	cursor: pointer;
	padding: 0 5px;
}

.context-menu-item:hover {
	background-color: #e0e0e0;
}
	
.preview-text {
	position: relative;
	font-size: 2em;
	color: #eee;
	text-align: center;
	cursor: default;
	height: 300px;
}
	
</style>
<script>

$.dino({
  dtype: 'box',
  items: [{
    dtype: 'dropdown-box',
    cls: 'dino-border context-menu',
    events: {
      'click': function(e) {
        e.stopPropagation();
      }
    },
    defaultItem: {
      dtype: 'text-menu-item',
      cls: 'context-menu-item',
      onAction: function() {
        $('.context-menu').dino().hide();
        Samples.growl.addMessage('Выбран элемент меню: ' + this.options.label);
      }
    },
    items: [
      {label: 'Item 1'},
      {label: 'Item 2'},
      {label: 'Item 3'},
    ]
  }, {
    text: 'Кликни правой кнопкой мыши в любом месте окна',
    cls: 'preview-text',
    events: {
      'contextmenu': function(){ 
        return false; 
      },
      'mousedown': function(e, w) {
				
        if(e.button == 2){

          var dropdown = w.parent.getItem(0);
				
          var offset = $(this).offset();
					
          var x = e.pageX - offset.left - 2;
          var y = e.pageY - offset.top - 2;
					
          dropdown.show(x, y);
					
          e.stopPropagation();
					
          $('body').one('click', function(){ dropdown.hide(); });
        }
      }
    }
  }]
});

</script>	
<div class="html">
	
</div>
<div class="desc">
	<p>
		Это тоже черновой вариант, созданный на основе <strong></>Dino.containers.DropDownBox</strong>.
	</p>	
</div>
</div>










<script>
	
	
samplePage([{
	name: 'Вертикальное меню',
	id: '#sample-menu'
}, {
	name: 'Горизонтальное меню',
	id: '#sample-menu2'
}, {
	name: 'Контекстное меню',
	id: '#sample-context'
}]);
	
	
	
</script>


</body>
</html>